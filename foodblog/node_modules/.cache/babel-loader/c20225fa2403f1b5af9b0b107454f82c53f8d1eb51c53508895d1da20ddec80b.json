{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EditRecipe(){const{id}=useParams();const[recipe,setRecipe]=useState(null);useEffect(()=>{// Fetch the recipe data using the id from the URL\nconst fetchRecipe=async()=>{try{const response=await fetch(`https://food-blogging-website-hjc8.onrender.com/Blog/${id}`);const data=await response.json();setRecipe(data);}catch(error){console.error(\"Error fetching recipe:\",error);}};fetchRecipe();},[id]);const handleUpdate=async e=>{e.preventDefault();try{const response=await fetch(`https://food-blogging-website-hjc8.onrender.com/Blog/update/${id}`,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(recipe)});if(response.ok){alert(\"Recipe updated successfully\");}else{alert(\"Failed to update recipe\");}}catch(error){console.error(\"Error updating recipe:\",error);alert(\"Error occurred while updating recipe\");}};const handleChange=e=>{const{name,value}=e.target;setRecipe(prevRecipe=>({...prevRecipe,[name]:value}));};if(!recipe){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-green-600\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold text-center text-green-700 mb-6\",children:\"Edit Recipe\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-lg text-green-600\",children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:recipe.title,onChange:handleChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-lg text-green-600\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",value:recipe.description,onChange:handleChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ingredients\",className:\"block text-lg text-green-600\",children:\"Ingredients:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"ingredients\",name:\"ingredients\",value:recipe.ingredients,onChange:handleChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\",rows:\"4\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"instructions\",className:\"block text-lg text-green-600\",children:\"Instructions:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"instructions\",name:\"instructions\",value:recipe.instructions,onChange:handleChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\",rows:\"4\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",className:\"block text-lg text-green-600\",children:\"Image URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"image\",name:\"image\",value:recipe.image,onChange:handleChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500\",children:\"Update Recipe\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>console.log(\"Redirecting...\"),className:\"bg-green-500 text-white font-medium py-2 px-6 rounded-md hover:bg-green-600 transition duration-300 mt-4\",children:\"Go Back Home\"})})]});}export default EditRecipe;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","jsx","_jsx","jsxs","_jsxs","EditRecipe","id","recipe","setRecipe","fetchRecipe","response","fetch","data","json","error","console","handleUpdate","e","preventDefault","method","headers","body","JSON","stringify","ok","alert","handleChange","name","value","target","prevRecipe","className","children","onSubmit","htmlFor","type","title","onChange","description","ingredients","rows","instructions","image","to","onClick","log"],"sources":["C:/Users/priya/OneDrive/Desktop/FoodBlog/foodblog/src/Components/Edit.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nfunction EditRecipe() {\r\n  const { id } = useParams();\r\n  const [recipe, setRecipe] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Fetch the recipe data using the id from the URL\r\n    const fetchRecipe = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `https://food-blogging-website-hjc8.onrender.com/Blog/${id}`\r\n        );\r\n        const data = await response.json();\r\n        setRecipe(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching recipe:\", error);\r\n      }\r\n    };\r\n\r\n    fetchRecipe();\r\n  }, [id]);\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(\r\n        `https://food-blogging-website-hjc8.onrender.com/Blog/update/${id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(recipe),\r\n        }\r\n      );\r\n\r\n      if (response.ok) {\r\n        alert(\"Recipe updated successfully\");\r\n      } else {\r\n        alert(\"Failed to update recipe\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating recipe:\", error);\r\n      alert(\"Error occurred while updating recipe\");\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setRecipe((prevRecipe) => ({\r\n      ...prevRecipe,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  if (!recipe) {\r\n    return <div className=\"text-center text-green-600\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg\">\r\n      <h1 className=\"text-3xl font-semibold text-center text-green-700 mb-6\">\r\n        Edit Recipe\r\n      </h1>\r\n      <form onSubmit={handleUpdate} className=\"space-y-6\">\r\n        <div>\r\n          <label htmlFor=\"title\" className=\"block text-lg text-green-600\">\r\n            Title:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            name=\"title\"\r\n            value={recipe.title}\r\n            onChange={handleChange}\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"description\" className=\"block text-lg text-green-600\">\r\n            Description:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"description\"\r\n            name=\"description\"\r\n            value={recipe.description}\r\n            onChange={handleChange}\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"ingredients\" className=\"block text-lg text-green-600\">\r\n            Ingredients:\r\n          </label>\r\n          <textarea\r\n            id=\"ingredients\"\r\n            name=\"ingredients\"\r\n            value={recipe.ingredients}\r\n            onChange={handleChange}\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n            rows=\"4\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div>\r\n          <label\r\n            htmlFor=\"instructions\"\r\n            className=\"block text-lg text-green-600\"\r\n          >\r\n            Instructions:\r\n          </label>\r\n          <textarea\r\n            id=\"instructions\"\r\n            name=\"instructions\"\r\n            value={recipe.instructions}\r\n            onChange={handleChange}\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n            rows=\"4\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"image\" className=\"block text-lg text-green-600\">\r\n            Image URL:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"image\"\r\n            name=\"image\"\r\n            value={recipe.image}\r\n            onChange={handleChange}\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n        >\r\n          Update Recipe\r\n        </button>\r\n      </form>\r\n      <Link to=\"/\">\r\n        <button\r\n          onClick={() => console.log(\"Redirecting...\")}\r\n          className=\"bg-green-500 text-white font-medium py-2 px-6 rounded-md hover:bg-green-600 transition duration-300 mt-4\"\r\n        >\r\n          Go Back Home\r\n        </button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditRecipe;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACxC,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACQ,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAW,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAC1B,wDAAwDL,EAAE,EAC5D,CAAC,CACD,KAAM,CAAAM,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCL,SAAS,CAACI,IAAI,CAAC,CACjB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAEDL,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACH,EAAE,CAAC,CAAC,CAER,KAAM,CAAAU,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAC1B,+DAA+DL,EAAE,EAAE,CACnE,CACEa,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAChB,MAAM,CAC7B,CACF,CAAC,CAED,GAAIG,QAAQ,CAACc,EAAE,CAAE,CACfC,KAAK,CAAC,6BAA6B,CAAC,CACtC,CAAC,IAAM,CACLA,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAE,MAAOX,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CW,KAAK,CAAC,sCAAsC,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIT,CAAC,EAAK,CAC1B,KAAM,CAAEU,IAAI,CAAEC,KAAM,CAAC,CAAGX,CAAC,CAACY,MAAM,CAChCrB,SAAS,CAAEsB,UAAU,GAAM,CACzB,GAAGA,UAAU,CACb,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,GAAI,CAACrB,MAAM,CAAE,CACX,mBAAOL,IAAA,QAAK6B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CACrE,CAEA,mBACE5B,KAAA,QAAK2B,SAAS,CAAC,qDAAqD,CAAAC,QAAA,eAClE9B,IAAA,OAAI6B,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CAAC,aAEvE,CAAI,CAAC,cACL5B,KAAA,SAAM6B,QAAQ,CAAEjB,YAAa,CAACe,SAAS,CAAC,WAAW,CAAAC,QAAA,eACjD5B,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAOgC,OAAO,CAAC,OAAO,CAACH,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,QAEhE,CAAO,CAAC,cACR9B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACX7B,EAAE,CAAC,OAAO,CACVqB,IAAI,CAAC,OAAO,CACZC,KAAK,CAAErB,MAAM,CAAC6B,KAAM,CACpBC,QAAQ,CAAEX,YAAa,CACvBK,SAAS,CAAC,mGAAmG,CAC9G,CAAC,EACC,CAAC,cAEN3B,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAOgC,OAAO,CAAC,aAAa,CAACH,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,cAEtE,CAAO,CAAC,cACR9B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACX7B,EAAE,CAAC,aAAa,CAChBqB,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAErB,MAAM,CAAC+B,WAAY,CAC1BD,QAAQ,CAAEX,YAAa,CACvBK,SAAS,CAAC,mGAAmG,CAC9G,CAAC,EACC,CAAC,cAEN3B,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAOgC,OAAO,CAAC,aAAa,CAACH,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,cAEtE,CAAO,CAAC,cACR9B,IAAA,aACEI,EAAE,CAAC,aAAa,CAChBqB,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAErB,MAAM,CAACgC,WAAY,CAC1BF,QAAQ,CAAEX,YAAa,CACvBK,SAAS,CAAC,mGAAmG,CAC7GS,IAAI,CAAC,GAAG,CACC,CAAC,EACT,CAAC,cAENpC,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UACEgC,OAAO,CAAC,cAAc,CACtBH,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CACzC,eAED,CAAO,CAAC,cACR9B,IAAA,aACEI,EAAE,CAAC,cAAc,CACjBqB,IAAI,CAAC,cAAc,CACnBC,KAAK,CAAErB,MAAM,CAACkC,YAAa,CAC3BJ,QAAQ,CAAEX,YAAa,CACvBK,SAAS,CAAC,mGAAmG,CAC7GS,IAAI,CAAC,GAAG,CACC,CAAC,EACT,CAAC,cAENpC,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAOgC,OAAO,CAAC,OAAO,CAACH,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,YAEhE,CAAO,CAAC,cACR9B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACX7B,EAAE,CAAC,OAAO,CACVqB,IAAI,CAAC,OAAO,CACZC,KAAK,CAAErB,MAAM,CAACmC,KAAM,CACpBL,QAAQ,CAAEX,YAAa,CACvBK,SAAS,CAAC,mGAAmG,CAC9G,CAAC,EACC,CAAC,cAEN7B,IAAA,WACEiC,IAAI,CAAC,QAAQ,CACbJ,SAAS,CAAC,wHAAwH,CAAAC,QAAA,CACnI,eAED,CAAQ,CAAC,EACL,CAAC,cACP9B,IAAA,CAACF,IAAI,EAAC2C,EAAE,CAAC,GAAG,CAAAX,QAAA,cACV9B,IAAA,WACE0C,OAAO,CAAEA,CAAA,GAAM7B,OAAO,CAAC8B,GAAG,CAAC,gBAAgB,CAAE,CAC7Cd,SAAS,CAAC,0GAA0G,CAAAC,QAAA,CACrH,cAED,CAAQ,CAAC,CACL,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAA3B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}