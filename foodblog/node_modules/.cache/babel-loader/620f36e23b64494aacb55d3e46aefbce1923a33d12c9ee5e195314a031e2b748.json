{"ast":null,"code":"import React,{useContext,useState,useEffect}from\"react\";import Overall from\"./Overall\";import{user_id}from\"./Context\";import Card from\"./Card\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Favorites(){const[result,setResult]=useState([]);const[particular,setParticular]=useState(null);const{User_id}=useContext(user_id);const[empty,setEmpty]=useState(true);const view=recipe=>{setParticular(recipe);console.log(recipe.title);};const display=async()=>{try{const response=await fetch(`https://food-blogging-website-backend.onrender.com/blog/user/${User_id}`);const array=await response.json();setResult(array);setEmpty(array.length===0);// Set empty state based on results\nconsole.log(array);}catch(error){console.log(error);}};useEffect(()=>{display();// Fetch data on component mount\n},[]);const closeDetailView=()=>{setParticular(null);};const delete_recipe=async recipe=>{try{const response=await fetch(`https://food-blogging-website-backend.onrender.com/Blog/delete/${recipe._id}`,{method:\"DELETE\"});if(response.ok){console.log(\"deleted successfully\");// Update result and empty state\nsetResult(prevResult=>prevResult.filter(item=>item._id!==recipe._id));setEmpty(result.length===1);// Update empty state dynamically\n}else{console.log(\"not deleted\");}}catch(error){console.log(error);}};return/*#__PURE__*/_jsx(_Fragment,{children:empty?/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-20 h-20 text-gray-400 mx-auto\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold text-gray-700 mb-2\",children:\"This Page is Empty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"There's nothing to see here right now. Check back later!\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>console.log(\"Redirecting...\"),className:\"bg-green-500 text-white font-medium py-2 px-6 rounded-md hover:bg-green-600 transition duration-300\",children:\"Go Back Home\"})})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-6 min-h-screen bg-gray-100\",children:result.map((res,index)=>/*#__PURE__*/_jsxs(Card,{title:res.title,description:res.description,src:res.image,view:()=>view(res),children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white font-bold shadow-md mt-6 py-2 px-4 rounded-full hover:bg-green-700 transition duration-300\",onClick:()=>delete_recipe(res),children:\"Delete\"}),/*#__PURE__*/_jsxs(Link,{to:`/edit/${res._id}`,children:[\" \",/*#__PURE__*/_jsxs(\"button\",{className:\"bg-green-500 text-white font-bold shadow-md mt-6 py-2 px-4 rounded-full hover:bg-green-700 transition duration-300\",children:[\" \",\"Edit\",\" \"]}),\" \"]})]},index))}),particular&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white p-6 rounded-lg shadow-lg max-w-lg w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-4 right-4 bg-green-500 text-white font-bold shadow-md py-2 px-4 rounded-full hover:bg-green-700 transition duration-300\",onClick:closeDetailView,children:\"CLOSE\"}),/*#__PURE__*/_jsx(Overall,{title:particular.title,ingredients:particular.ingredients,instructions:particular.instructions,image:particular.image})]})})]})});}export default Favorites;","map":{"version":3,"names":["React","useContext","useState","useEffect","Overall","user_id","Card","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Favorites","result","setResult","particular","setParticular","User_id","empty","setEmpty","view","recipe","console","log","title","display","response","fetch","array","json","length","error","closeDetailView","delete_recipe","_id","method","ok","prevResult","filter","item","children","className","fill","stroke","strokeWidth","viewBox","xmlns","strokeLinecap","strokeLinejoin","d","to","onClick","map","res","index","description","src","image","ingredients","instructions"],"sources":["C:/Users/priya/OneDrive/Desktop/FoodBlog/foodblog/src/Components/Favorites.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport Overall from \"./Overall\";\r\nimport { user_id } from \"./Context\";\r\nimport Card from \"./Card\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Favorites() {\r\n  const [result, setResult] = useState([]);\r\n  const [particular, setParticular] = useState(null);\r\n  const { User_id } = useContext(user_id);\r\n  const [empty, setEmpty] = useState(true);\r\n\r\n  const view = (recipe) => {\r\n    setParticular(recipe);\r\n    console.log(recipe.title);\r\n  };\r\n\r\n  const display = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `https://food-blogging-website-backend.onrender.com/blog/user/${User_id}`\r\n      );\r\n      const array = await response.json();\r\n      setResult(array);\r\n      setEmpty(array.length === 0); // Set empty state based on results\r\n      console.log(array);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    display(); // Fetch data on component mount\r\n  }, []);\r\n\r\n  const closeDetailView = () => {\r\n    setParticular(null);\r\n  };\r\n\r\n  const delete_recipe = async (recipe) => {\r\n    try {\r\n      const response = await fetch(\r\n        `https://food-blogging-website-backend.onrender.com/Blog/delete/${recipe._id}`,\r\n        { method: \"DELETE\" }\r\n      );\r\n      if (response.ok) {\r\n        console.log(\"deleted successfully\");\r\n        // Update result and empty state\r\n        setResult((prevResult) =>\r\n          prevResult.filter((item) => item._id !== recipe._id)\r\n        );\r\n        setEmpty(result.length === 1); // Update empty state dynamically\r\n      } else {\r\n        console.log(\"not deleted\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Show Empty State if No Results */}\r\n      {empty ? (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100\">\r\n          <div className=\"text-center\">\r\n            {/* Icon */}\r\n            <div className=\"mb-6\">\r\n              <svg\r\n                className=\"w-20 h-20 text-gray-400 mx-auto\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                viewBox=\"0 0 24 24\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  d=\"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                ></path>\r\n              </svg>\r\n            </div>\r\n\r\n            {/* Heading */}\r\n            <h1 className=\"text-2xl font-semibold text-gray-700 mb-2\">\r\n              This Page is Empty\r\n            </h1>\r\n\r\n            {/* Subheading */}\r\n            <p className=\"text-gray-500 mb-6\">\r\n              There's nothing to see here right now. Check back later!\r\n            </p>\r\n\r\n            {/* Action Button */}\r\n            <Link to=\"/\">\r\n              <button\r\n                onClick={() => console.log(\"Redirecting...\")}\r\n                className=\"bg-green-500 text-white font-medium py-2 px-6 rounded-md hover:bg-green-600 transition duration-300\"\r\n              >\r\n                Go Back Home\r\n              </button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Show Cards if Results Exist */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-6 min-h-screen bg-gray-100\">\r\n            {result.map((res, index) => (\r\n              <Card\r\n                key={index}\r\n                title={res.title}\r\n                description={res.description}\r\n                src={res.image}\r\n                view={() => view(res)}\r\n              >\r\n                <button\r\n                  className=\"bg-green-500 text-white font-bold shadow-md mt-6 py-2 px-4 rounded-full hover:bg-green-700 transition duration-300\"\r\n                  onClick={() => delete_recipe(res)}\r\n                >\r\n                  Delete\r\n                </button>\r\n\r\n                <Link to={`/edit/${res._id}`}>\r\n                  {\" \"}\r\n                  <button className=\"bg-green-500 text-white font-bold shadow-md mt-6 py-2 px-4 rounded-full hover:bg-green-700 transition duration-300\">\r\n                    {\" \"}\r\n                    Edit{\" \"}\r\n                  </button>{\" \"}\r\n                </Link>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n          {particular && (\r\n            <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n              <div className=\"relative bg-white p-6 rounded-lg shadow-lg max-w-lg w-full max-h-[90vh] overflow-y-auto\">\r\n                {/* Close Button */}\r\n                <button\r\n                  className=\"absolute top-4 right-4 bg-green-500 text-white font-bold shadow-md py-2 px-4 rounded-full hover:bg-green-700 transition duration-300\"\r\n                  onClick={closeDetailView}\r\n                >\r\n                  CLOSE\r\n                </button>\r\n\r\n                {/* Content */}\r\n                <Overall\r\n                  title={particular.title}\r\n                  ingredients={particular.ingredients}\r\n                  instructions={particular.instructions}\r\n                  image={particular.image}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}